---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { Image } from 'astro:assets';

type Props = CollectionEntry<'blog'>['data'];
const { title, description, pubDate, updatedDate, heroImage, tags = [] } = Astro.props;
---

<html lang="en" class="scroll-smooth bg-white dark:bg-black text-neutral-900 dark:text-neutral-100">
  <head>
    <BaseHead title={title} description={description} />
  </head>

  <body class="bg-[length:60px_60px] bg-[linear-gradient(to_right,rgba(0,0,0,0.05)_1px,transparent_1px),linear-gradient(to_bottom,rgba(0,0,0,0.05)_1px,transparent_1px)] dark:bg-[linear-gradient(to_right,rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.05)_1px,transparent_1px)]">
    <Header />

    <main class="max-w-3xl mx-auto px-4 py-16">
      {heroImage && (
        <div class="mb-12 rounded-2xl overflow-hidden shadow-xl">
          <Image width={1020} height={510} src={heroImage} alt={title} class="w-full h-auto object-cover" />
        </div>
      )}

      <div class="text-center mb-6">
        <h1 class="text-4xl md:text-5xl font-bold tracking-tight leading-tight">{title}</h1>
        <div class="mt-2 text-gray-500 dark:text-gray-400 text-sm">
          <FormattedDate date={pubDate} />
          {updatedDate && (
            <div class="italic text-xs text-gray-400 dark:text-gray-500">
              Last updated on <FormattedDate date={updatedDate} />
            </div>
          )}
        </div>
      </div>

      {tags.length > 0 && (
        <div class="flex flex-wrap justify-center gap-3 mb-8">
          {tags.map(tag => (
            <span class="px-3 py-1 text-xs font-semibold uppercase border border-indigo-200 dark:border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-300 rounded-full hover:bg-indigo-100 dark:hover:bg-indigo-800 transition">
              {tag}
            </span>
          ))}
        </div>
      )}

      <div class="rounded-xl p-6 mb-12 bg-gradient-to-r from-indigo-50 to-blue-100 dark:from-indigo-900 dark:to-blue-950 shadow-md">
        <h2 class="text-xl font-semibold mb-2">âœ¨ Featured Insight</h2>
        <p class="text-gray-700 dark:text-gray-300">
          This article covers advanced techniques and curated examples. Dive deep with confidence.
        </p>
      </div>

      <div class="prose dark:prose-invert max-w-none">
        <slot />
      </div>
    </main>

    <Footer />
  </body>
</html>
